% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mod_voting.R
\name{votingServer}
\alias{votingServer}
\title{Voting module server logic}
\usage{
votingServer(
  id,
  cfg,
  login_trigger,
  db_pool,
  get_mutation_trigger_source,
  tab_trigger = NULL
)
}
\arguments{
\item{id}{A string identifier for the module namespace.}

\item{cfg}{App configuration}

\item{login_trigger}{A reactive expression that indicates when a user has logged in.}

\item{db_pool}{A database pool object (e.g. SQLite or PostgreSQL) for writing annotations.}

\item{get_mutation_trigger_source}{A reactive expression that signals a new mutation should be loaded.}

\item{tab_trigger}{Optional reactive that triggers when the voting tab is selected.}
}
\value{
None. Side effect only: registers reactive observers and UI updates.
}
\description{
Handles the server-side logic for the variant voting workflow.
This includes:
\itemize{
\item Reactively loading mutation images and metadata
\item Capturing user input (agreement, observation, comment)
\item Writing votes to a tsv file and session data to a database
\item Advancing to the next voting item based on user interaction or trigger source
}
}
\details{
The module is triggered when the \code{login_trigger} reactive becomes active
and optionally by \code{get_mutation_trigger_source()} to load new voting tasks.

Annotations are saved to the database connection provided in \code{db_pool}.
}
